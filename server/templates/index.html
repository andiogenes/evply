<!DOCTYPE html>
<html>
<head>
	<title>TEST PAGE</title>
</head>
<body>
<h1> {{ header }} </h1>
<form method="POST" action="#" name="main-form">
	<input id="name" type="text" name="name">
	<input id="sername" type="text" name="job">
	<input type="submit" name="sb" value="GET REQUEST">
</form>
<a href="#" id="btn">POST REQUEST</a>

<script>
	window.addEventListener('unload', logData, false);
	function logData() {
		var client = new XMLHttpRequest();
		const fname = document.getElementById("name").value;
		const sname = document.getElementById("sername").value;
		var json = JSON.stringify({
			name: fname,
			surname: sname
		});
		client.open("POST", "", true); // third parameter indicates sync xhr. :(
		client.setRequestHeader("Content-Type", "application/json; charset=utf-8");
		client.send(json);
	}
	const btn = document.getElementById('btn');
	btn.addEventListener('click', logData);
</script>
</body>
</html>